<div class="px-4 py-5 my-5 text-center">
    <h1 class="display-5 fw-bold">Edit Recipe</h1>
    <div class="col-lg-6 mx-auto">
        <p class="lead">Modify your recipe details below and click "Update Recipe."</p>
    </div>
</div>

<div class="row justify-content-center">
    <% if(infoSubmitObj !='' ) { %>
        <div class=" col-8 alert alert-success" role="alert">
            <%= infoSubmitObj %>
        </div>
    <% } %>

    <% if(infoErrorsObj !='' ) { %>
        <div class=" col-8 alert alert-danger" role="alert">
            <%= infoErrorsObj[0].message %>
        </div>
    <% } %>

    <div class="col-8">
        <form action="/edit-recipe/<%= recipe._id %>" enctype="multipart/form-data" method="post">

            <!-- Existing Email Field -->
            <div class="col-12">
                <label for="email" class="form-label">Email</label>
                <input type="email" name="email" id="email" class="form-control" value="<%= recipe.email %>" readonly>
            </div>

            <!-- Existing Recipe Name Field -->
            <div class="col-12">
                <label for="name" class="form-label">Recipe Name</label>
                <input type="text" name="name" id="name" class="form-control" value="<%= recipe.name %>" required>
            </div>

            <!-- Existing Description Field -->
            <div class="col-12">
                <label for="description" class="form-label">Description</label>
                <textarea name="description" id="description" class="form-control" cols="30" rows="4"><%= recipe.description %></textarea>
            </div>

            <!-- Existing Ingredients Field -->
            <div class="col-12">
                <label for="name" class="form-label">Ingredients</label>
                <small>Example: Salt</small>
                <div class="ingredientList">
                    <% recipe.ingredients.forEach(ingredient => { %>
                        <div class="ingredientDiv mb-1">
                            <input type="text" name="ingredients" class="form-control" value="<%= ingredient %>">
                        </div>
                    <% }); %>
                </div>
            </div>

            <!-- Add Ingredients Button (if needed) -->
            <!-- ... -->
            <div class="col-12">
                <button type="button" class="btn btn-outline-primary" id="addIngredientsBtn">+
                    Ingredients</button>
            </div>
            <!-- Existing Category Field -->
            <div class="col-12">
                <label for="category">Select Category</label>
                <select name="category" class="form-select form-control" aria-label="Category">
                    <option selected>Select Category</option>
                    <% categories.forEach(category => { %>
                        <option value="<%= category.name %>" <%= (category.name === recipe.category) ? 'selected' : '' %>><%= category.name %></option>
                    <% }); %>
                </select>
            </div>

            <!-- Existing Image Field -->
            <div class="col-12">
                <label for="image">Product Image</label>
                <input type="file" class="form-control" name="image" accept="image/*">
            </div>

            <!-- Submit Button -->
            <div class="col-12">
                <button type="submit" class="btn btn-primary">Update Recipe</button>
            </div>

        </form>
    </div>
</div>
